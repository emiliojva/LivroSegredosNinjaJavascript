<!--
    Simulação de métodos de array - Engando Objetos com metodo CALL/APPLY.
    Passando contexto(this) quaisquer para um método que pertence a outro(Prototipo/Construtor).

    Neste caso o Object foi tratado com typeOf Array, sendo assim, recebeu 2 novo elementos e incrementou a propriedade length
-->
<!DOCTYPE html>
<html>
    <head>
        <title>Listagem 4.10 - Simulação de métodos de tipo array</title>
        <script type="text/javascript" src="../../scripts/assert.js"></script>
        <link href="../../styles/assert.css" rel="stylesheet" type="text/css">
    </head>

    <body>
        <input id="first"/>
        <input id="second"/>



        <script type="text/javascript">
            var elems = {
                length: 0,
                // Adicionará elementos do DOM no Objeto(this) como se fosse um Array, e utilizará length++
                add: function(elem) {
                    Array.prototype.push.call(this, elem);
                },
                gather: function(id) {
                    this.add(document.getElementById(id));
                }
            };

            elems.gather('first');

            assert(elems.length == 1 && elems[0].nodeType, "Verifique se temos um elemento(DOM) em nosso OBJETO");

            elems.gather('second');

            assert(elems.length == 2 && elems[0].nodeType, "Verificamos se temos um NOVO elemento(DOM)");



        </script>
    </body>
</html>